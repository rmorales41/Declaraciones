{% load static %}

<!doctype html>
<html lang="en">
<head>
    <title>{% block titulo %} {% endblock %}</title>       
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
      <!-- Scripts -->
    <!-- jQuery -->
    <script src="{% static 'js/jquery.min.js' %}"></script> 

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    
    <!-- Custom Styles -->
    <style>
        .custom-dropdown-menu {
            max-height: 300px; /* Ajusta esta altura según tus necesidades */
            overflow-y: auto; /* Permite desplazamiento vertical si el menú desplegable es más alto */
            width: auto ;
            padding: 5px; /* Añadir relleno para mejorar la apariencia */
          }
        
    </style>
</head>

<body>      

    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <!-- Menú desplegable "Declaraciones" -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fa fa-book"></i> Declaraciones</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{% url 'visor' %}"><i class="fa fa-outdent"></i> Visor General</a></li>
                            <li><hr class="dropdown-divider"></li>            
                            <li><a class="dropdown-item" href="{% url 'calendario' %}"><i class="bi bi-arrow-down-left-circle"></i> Calendarización</a></li>
                            <li><a class="dropdown-item" href="{% url 'calendariotributario' %}"><i class="bi bi-calendar2-date"></i> Calendario Tributario</a></li>
                            <li><a class="dropdown-item" href="{% url 'reasignacalendario' %}"><i class="bi bi-back"></i> Reasignación Calendario Tributario</a></li>                            
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="{% url 'asigna' %}"><i class="fa fa-address-book"></i> Asigna Clientes a Funcionarios</a></li>
                            <li><a class="dropdown-item" href="{% url 'pendiente' %}"><i class="fa fa-street-view"></i> Clientes Sin Asignación</a></li>
                            <li><a class="dropdown-item" href="{% url 'buscadeclaracion' %}"><i class="fas fa-asterisk"></i> Buscar Declaración a Clientes</a></li>                  
                            <li><a class="dropdown-item" href="{% url 'iniciadeclaracion' %}"><i class="bi bi-cone"></i> Iniciar o Finalizar Declaración por Cliente</a></li>                  
                            <li><a class="dropdown-item" href="{% url 'StatusDeclaracion' %}"><i class="bi bi-chat-left-text"></i> Status de las Declaraciones</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="{% url 'ConfirmaDeclaracion' %}"><i class="bi bi-file-lock2-fill"></i> Confirma Declaraciones</a></li>
                            <li><a class="dropdown-item" href="{% url 'DeclaracionesConfirmadas' %}"><i class="bi bi-bookmark-check"></i> Declaraciones Confirmadas</a></li>                           
                        </ul>
                    </li>

                    <!-- Menú desplegable "Clientes" -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fa fa-address-book"></i> Clientes</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{% url 'clientes_declaraciones' %}"><i class="fa fa-deaf"></i> Asigna Declaraciones a Clientes</a></li>
                            <li><a class="dropdown-item" href="{% url 'pendiente_realizar' %}"><i class="bi bi-cone-striped"></i> Pendientes por Realizar</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="{% url 'historico_movimientos' %}"><i class="bi bi-collection"></i> Historico de Movimientos Presentación</a></li>
                            <li><a class="dropdown-item" href="{% url 'busqueda_historico_movimientos' %}"><i class="bi bi-collection"></i> Búsqueda Historica de Movimientos</a></li>

                            <li><hr class="dropdown-divider"></li>
                            <!-- Puedes añadir más elementos aquí -->
                        </ul>
                    </li>

                    <!-- Menú desplegable "Funcionarios" -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fa fa-sitemap"></i> Funcionarios</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{% url 'Funcionarios' %}"><i class="bi bi-person-fill"> Funcionarios</i></a></li>
                            <li><a class="dropdown-item" href="#">Asignadas</a></li>
                            <li><a class="dropdown-item" href="#">Visor de Eventos</a></li>                  
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Envíos</a></li>
                        </ul>
                    </li>

                    <!-- Menú desplegable "Beneficios" -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-card-checklist"></i> Beneficios</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">Condición PYME</a></li>
                            <li><a class="dropdown-item" href="#">Exoneraciones Exonet</a></li>  
                            <li><a class="dropdown-item" href="#">Otras Exoneraciones</a></li>
                            <li><hr class="dropdown-divider"></li>                  
                        </ul>
                    </li>
                </ul>
                <!-- Formulario de Salir del Sistema -->
                <form id="miFormulario">
                    <button type="button" class="btn btn-primary" onclick="Salir_Sistema()">Salir del Sistema</button>
                </form>            
            </div>
        </div>
    </nav>
    
    <div class="container-fluid min-vh-100">
        <div class="row">
            <div class="col-12">
                {% block contenido %} {% endblock %}
            </div>
        </div>
    </div>

  

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js"></script>  

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>   

    <!-- Bootstrap Datepicker -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>        
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>               

    <!-- Función para Salir del Sistema -->
    <script>
        function Salir_Sistema() {
            swal.fire({
                title: "¿Estás seguro?",
                text: "¿Deseas salir de la aplicación?",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Salir del Sistema"
            }).then((willExit) => {                
                if (willExit.isConfirmed) {
                    // Aquí podrías hacer la llamada al servidor para cerrar sesión si es necesario
                    // Ejemplo de redirección después de cerrar sesión:
                    window.location.href = "/";
                }
            });
        }
    </script>

    <!-- Control de mensajes -->
    {% if messages %}
        {% for m in messages %}
            <script>
                Swal.fire({
                    title: "Felicidades",
                    text: "{{m}}",
                    icon: "{{ m.tags }}",
                });
            </script>
        {% endfor %}
    {% endif %}
    <!-- Fin de código de mensajes -->
</body>

</html>
