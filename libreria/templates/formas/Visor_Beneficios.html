{% extends "paginas/base.html" %}
{% block titulo %} Visor de Movimientos por Tipo  {% endblock %}
{% block contenido %}
{% load static%}

<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
<!-- DataTables CSS -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.4/css/dataTables.bootstrap5.min.css">

<!-- jQuery primero, luego DataTables y Bootstrap Bundle -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.4/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>


<!-- Scripts personalizados -->
<script src="{% static 'js/Beneficios.js' %}"></script>

<div class="card">
    <div class="col text-right">
        <a href="{% url 'visor' %}" class="btn btn-primary"><i class="fa fa-reply"></i> Volver al menú </a>
        
    </div>
    <div class="card-body">
        <h4 class="card-title">Visor Movimientos por Tipo</h4>
        <table id="visorbeneficios" class="table table-striped" style="width:100%">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Cliente</th>
                        <th scope="col">ID Tipo</th>
                        <th scope="col">Detalle</th>
                        <th scope="col">Autorizacion</th> 
                        <th scope="col">Vence</th> 
                        <th scope="col">Imagen</th>                     
                        <th scope="col">Acción</th>
                    </tr>
                </thead>
                <tbody>                         
                    {% for a in var_beneficios %}

                    <tr class="">
                        <td scope="row">{{a.IDClientes_Proveedores__IDClientes_Proveedores}}</td>
                        <td scope="row">{{a.IDClientes_Proveedores__Descripcion}}</td>
                        <td scope="row">{{a.IDDetalle_Declaracion_Tipo}}</td>
                        <td scope="row">{{a.Detalle}}</td>
                        <td scope="row">{{a.Numero_autorizado}}</td>
                        <td scope="row">{{a.Fecha_vencimiento}}</td>                       
                        <td><img src="{{a.Imagen }}" height ="40" /></td>   
                        <td><a name="" id="" class="btn btn-primary" href="#"  role="button"><i class="bi bi-file-image-fill"></i></a></td>                                     
                        </td>
                    {% endfor %}                   
                </tbody>         
         </table>     
                <!-- paginacion-->                                                       
                {% include "formas/paginacion.html" %}   
    </div>    
</div>

<script> 
    // Inicializar DataTable
    $(document).ready(function () {
        $('#visorbeneficios').DataTable({
            "language": {
                "url": "{% static 'json/Spanish.json' %}" 
            },
            "searching": true,  // Habilitar búsqueda global
            "ordering": true    // Habilitar ordenamiento de columnas
        });
    });
</script>

{% endblock %}


